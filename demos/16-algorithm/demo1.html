<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="root">
      <ul>
        <li>
          <a href=""><i></i></a>
        </li>
        <li>
          <span></span>
        </li>
        <li></li>
      </ul>
      <p></p>
      <button></button>
    </div>
  </body>
  <script>
    // 递归版本
    function deepFirstSearch(node, nodeList) {
      if (node) {
        nodeList.push(node);
        var children = node.children;
        for (var i = 0; i < children.length; i++)
          //每次递归的时候将 需要遍历的节点 和 节点所存储的数组传下去
          deepFirstSearch(children[i], nodeList);
      }
      return nodeList;
    }

    // 非递归版本
    function deepFirstSearch2(node) {
      var nodes = [];
      if (node != null) {
        var stack = [];
        stack.push(node);
        while (stack.length != 0) {
          var item = stack.pop();
          nodes.push(item);
          var children = item.children;
          for (var i = children.length - 1; i >= 0; i--)
            stack.push(children[i]);
        }
      }
      return nodes;
    }

    let root = document.getElementById("root");

    const result = deepFirstSearch(root, (nodeList = []));
    const result2 = deepFirstSearch2(root, (nodeList = []));

    console.log(result); // [div#root, ul, li, a, li, span, li, p, button]
    console.log(result2); // [div#root, ul, li, a, li, span, li, p, button]
  </script>
</html>
